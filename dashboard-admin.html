<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - FoodWise</title>
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/dashboard.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="dashboard-nav">
        <div class="nav-container">
            <div class="nav-logo">
                <img src="icon.jpg" alt="FoodWise Logo" class="logo-img">
                <span class="logo-text">FoodWise Admin</span>
            </div>
            <div class="nav-user">
                <div class="user-info">
                    <div class="user-avatar">
                        <i class="fas fa-crown"></i>
                    </div>
                    <div class="user-details">
                        <span class="user-name" id="userName">Admin</span>
                        <span class="user-role">Administrator</span>
                    </div>
                </div>
                <div class="nav-actions">
                    <button class="btn-icon" onclick="toggleNotifications()" title="Notifications">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">5</span>
                    </button>
                    <div class="dropdown">
                        <button class="btn-icon" onclick="toggleUserMenu()" title="User Menu">
                            <i class="fas fa-ellipsis-v"></i>
                        </button>
                        <div class="dropdown-menu" id="userMenu">
                            <a href="#" onclick="editProfile()">
                                <i class="fas fa-user-edit"></i>
                                Edit Profile
                            </a>
                            <a href="#" onclick="viewSettings()">
                                <i class="fas fa-cog"></i>
                                Settings
                            </a>
                            <a href="#" onclick="logout()">
                                <i class="fas fa-sign-out-alt"></i>
                                Logout
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-content">
            <div class="sidebar-menu">
                <a href="#overview" class="menu-item active" data-section="overview">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#users" class="menu-item" data-section="users">
                    <i class="fas fa-users"></i>
                    <span>User Management</span>
                </a>
                <a href="#donations" class="menu-item" data-section="donations">
                    <i class="fas fa-list-alt"></i>
                    <span>Donations</span>
                </a>
                <a href="#analytics" class="menu-item" data-section="analytics">
                    <i class="fas fa-chart-line"></i>
                    <span>Analytics</span>
                </a>
                <a href="#content" class="menu-item" data-section="content">
                    <i class="fas fa-edit"></i>
                    <span>Content Management</span>
                </a>
                <a href="#settings" class="menu-item" data-section="settings">
                    <i class="fas fa-cog"></i>
                    <span>System Settings</span>
                </a>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Overview Section -->
        <section class="content-section active" id="overview">
            <div class="section-header">
                <h1>Admin Dashboard</h1>
                <p>Monitor and manage the FoodWise platform</p>
            </div>

            <!-- Platform Stats -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-content">
                        <h3>1,247</h3>
                        <p>Total Users</p>
                        <span class="stat-change positive">+23 this week</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-utensils"></i>
                    </div>
                    <div class="stat-content">
                        <h3>3,892</h3>
                        <p>Total Donations</p>
                        <span class="stat-change positive">+45 today</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-hamburger"></i>
                    </div>
                    <div class="stat-content">
                        <h3>15,847</h3>
                        <p>Meals Delivered</p>
                        <span class="stat-change positive">+127 today</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-building"></i>
                    </div>
                    <div class="stat-content">
                        <h3>97</h3>
                        <p>Partner Organizations</p>
                        <span class="stat-change positive">+3 this month</span>
                    </div>
                </div>
            </div>

            <!-- Dashboard Grid -->
            <div class="dashboard-grid">
                <div class="card">
                    <div class="card-header">
                        <h3>Recent Activity</h3>
                    </div>
                    <div class="card-content">
                        <div class="activity-list">
                            <div class="activity-item">
                                <div class="activity-icon verified">
                                    <i class="fas fa-user-plus"></i>
                                </div>
                                <div class="activity-content">
                                    <h4>New Restaurant Registration</h4>
                                    <p>Maharaja Restaurant joined as donor</p>
                                    <span class="activity-time">10 minutes ago</span>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon pending">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </div>
                                <div class="activity-content">
                                    <h4>Donation Needs Review</h4>
                                    <p>Large quantity donation flagged for verification</p>
                                    <span class="activity-time">1 hour ago</span>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon delivered">
                                    <i class="fas fa-check-circle"></i>
                                </div>
                                <div class="activity-content">
                                    <h4>Milestone Reached</h4>
                                    <p>15,000+ meals delivered this month</p>
                                    <span class="activity-time">2 hours ago</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3>Quick Actions</h3>
                    </div>
                    <div class="card-content">
                        <div class="quick-actions">
                            <button class="action-btn" onclick="switchSection('users')">
                                <i class="fas fa-user-check"></i>
                                <span>Approve Users</span>
                            </button>
                            <button class="action-btn" onclick="switchSection('donations')">
                                <i class="fas fa-list-check"></i>
                                <span>Review Donations</span>
                            </button>
                            <button class="action-btn" onclick="generateReport()">
                                <i class="fas fa-file-download"></i>
                                <span>Generate Report</span>
                            </button>
                            <button class="action-btn" onclick="sendNotification()">
                                <i class="fas fa-broadcast-tower"></i>
                                <span>Send Announcement</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- User Management Section -->
        <section class="content-section" id="users">
            <div class="section-header">
                <h1>User Management</h1>
                <p>Manage platform users and their permissions</p>
            </div>

            <div class="filters-section">
                <div class="filter-group">
                    <label for="userRoleFilter">Filter by Role:</label>
                    <select id="userRoleFilter">
                        <option value="all">All Users</option>
                        <option value="donor">Donors</option>
                        <option value="volunteer">Volunteers</option>
                        <option value="delivery">Delivery Agents</option>
                        <option value="admin">Administrators</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="userStatusFilter">Filter by Status:</label>
                    <select id="userStatusFilter">
                        <option value="all">All Status</option>
                        <option value="active">Active</option>
                        <option value="pending">Pending Approval</option>
                        <option value="suspended">Suspended</option>
                    </select>
                </div>
                <button class="btn btn-primary">
                    <i class="fas fa-plus"></i>
                    Add New User
                </button>
            </div>

            <div class="users-container">
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>User</th>
                                <th>Role</th>
                                <th>Status</th>
                                <th>Joined</th>
                                <th>Activity</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="usersTableBody">
                            <tr>
                                <td>
                                    <div class="user-cell">
                                        <div class="user-avatar">
                                            <i class="fas fa-utensils"></i>
                                        </div>
                                        <div>
                                            <div class="user-name">Priya Sharma</div>
                                            <div class="user-email">priya@spicegarden.com</div>
                                        </div>
                                    </div>
                                </td>
                                <td><span class="role-badge donor">Donor</span></td>
                                <td><span class="status-badge active">Active</span></td>
                                <td>Jan 15, 2024</td>
                                <td>23 donations</td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="btn-sm btn-outline" title="View Details">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="btn-sm btn-secondary" title="Edit">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn-sm btn-outline" title="Suspend">
                                            <i class="fas fa-ban"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="user-cell">
                                        <div class="user-avatar">
                                            <i class="fas fa-user-graduate"></i>
                                        </div>
                                        <div>
                                            <div class="user-name">Rahul Kumar</div>
                                            <div class="user-email">rahul@student.du.ac.in</div>
                                        </div>
                                    </div>
                                </td>
                                <td><span class="role-badge volunteer">Volunteer</span></td>
                                <td><span class="status-badge active">Active</span></td>
                                <td>Feb 3, 2024</td>
                                <td>45 verifications</td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="btn-sm btn-outline" title="View Details">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="btn-sm btn-secondary" title="Edit">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn-sm btn-outline" title="Suspend">
                                            <i class="fas fa-ban"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Donations Management Section -->
        <section class="content-section" id="donations">
            <div class="section-header">
                <h1>Donations Management</h1>
                <p>Monitor and review all food donations</p>
            </div>

            <div class="filters-section">
                <div class="filter-group">
                    <label for="donationStatusFilter">Filter by Status:</label>
                    <select id="donationStatusFilter">
                        <option value="all">All Donations</option>
                        <option value="pending">Pending Review</option>
                        <option value="verified">Verified</option>
                        <option value="delivered">Delivered</option>
                        <option value="flagged">Flagged</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="urgencyFilter">Filter by Urgency:</label>
                    <select id="urgencyFilter">
                        <option value="all">All</option>
                        <option value="urgent">Urgent</option>
                        <option value="normal">Normal</option>
                    </select>
                </div>
                <button class="btn btn-primary">
                    <i class="fas fa-download"></i>
                    Export Data
                </button>
            </div>

            <div class="donations-grid">
                <div class="donation-card admin-view">
                    <div class="donation-header">
                        <div>
                            <h3 class="donation-title">Wedding Buffet Surplus</h3>
                            <span class="donation-type">Cooked Food</span>
                        </div>
                        <div class="admin-actions">
                            <span class="status-badge pending">Needs Review</span>
                            <span class="urgent-badge">URGENT</span>
                        </div>
                    </div>
                    <div class="donation-info">
                        <div class="info-item">
                            <i class="fas fa-user"></i>
                            <span>Donor: Maharaja Catering</span>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-weight"></i>
                            <span>Quantity: 100 plates</span>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-clock"></i>
                            <span>Expires: Today 8:00 PM</span>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Location: Andheri Wedding Hall</span>
                        </div>
                    </div>
                    <div class="donation-actions">
                        <button class="btn btn-primary btn-sm">
                            <i class="fas fa-check"></i>
                            Approve
                        </button>
                        <button class="btn btn-outline btn-sm">
                            <i class="fas fa-flag"></i>
                            Flag
                        </button>
                        <button class="btn btn-outline btn-sm">
                            <i class="fas fa-eye"></i>
                            Details
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Analytics Section -->
        <section class="content-section" id="analytics">
            <div class="section-header">
                <h1>Platform Analytics</h1>
                <p>Comprehensive insights and performance metrics</p>
            </div>

            <div class="analytics-grid">
                <div class="chart-card">
                    <h3>User Growth</h3>
                    <canvas id="userGrowthChart" width="400" height="200"></canvas>
                </div>
                <div class="chart-card">
                    <h3>Donation Trends</h3>
                    <canvas id="donationTrendsChart" width="400" height="200"></canvas>
                </div>
                <div class="chart-card">
                    <h3>Geographic Distribution</h3>
                    <canvas id="geoChart" width="400" height="200"></canvas>
                </div>
                <div class="chart-card">
                    <h3>Impact Metrics</h3>
                    <div class="metrics-list">
                        <div class="metric-row">
                            <span>Food Waste Prevented</span>
                            <strong>8,293 kg</strong>
                        </div>
                        <div class="metric-row">
                            <span>CO2 Emissions Saved</span>
                            <strong>2,487 kg</strong>
                        </div>
                        <div class="metric-row">
                            <span>Money Saved (Tax Benefits)</span>
                            <strong>₹2,48,790</strong>
                        </div>
                        <div class="metric-row">
                            <span>Volunteer Hours</span>
                            <strong>1,247 hours</strong>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Content Management Section -->
        <section class="content-section" id="content">
            <div class="section-header">
                <h1>Content Management</h1>
                <p>Manage platform content and announcements</p>
            </div>

            <div class="content-grid">
                <div class="card">
                    <div class="card-header">
                        <h3>Announcements</h3>
                        <button class="btn btn-primary btn-sm">
                            <i class="fas fa-plus"></i>
                            New Announcement
                        </button>
                    </div>
                    <div class="card-content">
                        <div class="announcement-list">
                            <div class="announcement-item">
                                <h4>Platform Maintenance Scheduled</h4>
                                <p>System will be under maintenance on March 15th from 2:00 AM to 4:00 AM</p>
                                <div class="announcement-meta">
                                    <span>Published: March 10, 2024</span>
                                    <button class="btn-sm btn-outline">Edit</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3>FAQ Management</h3>
                        <button class="btn btn-primary btn-sm">
                            <i class="fas fa-plus"></i>
                            Add FAQ
                        </button>
                    </div>
                    <div class="card-content">
                        <div class="faq-list">
                            <div class="faq-item">
                                <h4>How do I verify food quality?</h4>
                                <p>Follow our 5-step verification process...</p>
                                <button class="btn-sm btn-outline">Edit</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Settings Section -->
        <section class="content-section" id="settings">
            <div class="section-header">
                <h1>System Settings</h1>
                <p>Configure platform settings and preferences</p>
            </div>

            <div class="settings-grid">
                <div class="settings-card">
                    <h3>General Settings</h3>
                    <div class="settings-form">
                        <div class="form-group">
                            <label>Platform Name</label>
                            <input type="text" value="FoodWise" class="form-control">
                        </div>
                        <div class="form-group">
                            <label>Support Email</label>
                            <input type="email" value="support@foodwise.com" class="form-control">
                        </div>
                        <div class="form-group">
                            <label>Maximum Upload Size (MB)</label>
                            <input type="number" value="5" class="form-control">
                        </div>
                        <button class="btn btn-primary">Save Changes</button>
                    </div>
                </div>

                <div class="settings-card">
                    <h3>Notification Settings</h3>
                    <div class="settings-form">
                        <div class="setting-item">
                            <label class="checkbox-container">
                                <input type="checkbox" checked>
                                <span class="checkmark"></span>
                                Email notifications for new registrations
                            </label>
                        </div>
                        <div class="setting-item">
                            <label class="checkbox-container">
                                <input type="checkbox" checked>
                                <span class="checkmark"></span>
                                SMS alerts for urgent donations
                            </label>
                        </div>
                        <div class="setting-item">
                            <label class="checkbox-container">
                                <input type="checkbox">
                                <span class="checkmark"></span>
                                Daily analytics reports
                            </label>
                        </div>
                        <button class="btn btn-primary">Update Settings</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Notification Panel -->
    <div class="notification-panel" id="notificationPanel">
        <div class="notification-header">
            <h3>System Notifications</h3>
            <button class="btn-icon" onclick="toggleNotifications()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="notification-list">
            <div class="notification-item unread">
                <div class="notification-icon">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <div class="notification-content">
                    <h4>High Volume Alert</h4>
                    <p>Unusual spike in donations detected. Review recommended.</p>
                    <span class="notification-time">5 minutes ago</span>
                </div>
            </div>
            <div class="notification-item unread">
                <div class="notification-icon">
                    <i class="fas fa-user-plus"></i>
                </div>
                <div class="notification-content">
                    <h4>New Registration</h4>
                    <p>5 new users registered in the last hour.</p>
                    <span class="notification-time">15 minutes ago</span>
                </div>
            </div>
        </div>
    </div>

    <script src="scripts/dashboard.js"></script>
    <script>
        // Admin-specific functionality
        function generateReport() {
            showNotification('Generating comprehensive platform report...', 'info');
            // Simulate report generation
            setTimeout(() => {
                showNotification('Report generated successfully! Check your downloads.', 'success');
            }, 3000);
        }

        function sendNotification() {
            showNotification('Broadcasting announcement to all users...', 'info');
            setTimeout(() => {
                showNotification('Announcement sent to 1,247 users successfully!', 'success');
            }, 2000);
        }

        // Override user role for admin
        document.addEventListener('DOMContentLoaded', function() {
            // Set admin-specific role icons and data
            if (typeof currentUser !== 'undefined' && currentUser) {
                currentUser.role = 'admin';
            }
        });
    </script>
</body>
</html>